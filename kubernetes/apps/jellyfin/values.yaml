replicaCount: 1

image:
  repository: docker.io/jellyfin/jellyfin
  tag: 10.10.7
  pullPolicy: Always

podAnnotations:
  backup.velero.io/backup-volumes-excludes: media

nodeSelector:
  beta.kubernetes.io/arch: amd64

serviceAccount:
  create: true
  automount: true

service:
  type: ClusterIP
  port: 8096
  portName: service

ingress:
  enabled: false

resources:
  limits:
    memory: 4096Mi
  requests:
    cpu: 100m
    memory: 128Mi

# -- Configure liveness probe for Jellyfin.
livenessProbe:
  initialDelaySeconds: 10
  tcpSocket:
    port: http

readinessProbe:
  initialDelaySeconds: 10
  tcpSocket:
    port: http

jellyfin:
  enableDLNA: false

persistence:
  config:
    enabled: true
    accessMode: ReadWriteOnce
    size: 20Gi
  media:
    enabled: true
    type: pvc
    existingClaim: nfs-media-pvc

# -- Configuration for metrics collection and monitoring
metrics:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s
    scrapeTimeout: 30s
    path: /metrics
    port: 8096
    scheme: http
